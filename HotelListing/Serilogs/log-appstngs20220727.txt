2022-07-27 09:42:06.236 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 09:42:07.667 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 09:42:07.668 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 09:42:07.668 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 09:42:07.752 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 09:42:08.043 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 297.9384ms
2022-07-27 09:42:08.098 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - -
2022-07-27 09:42:08.116 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - -
2022-07-27 09:42:08.120 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - -
2022-07-27 09:42:08.187 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
2022-07-27 09:42:08.191 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - - - 200 143943 text/css 92.7964ms
2022-07-27 09:42:08.380 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
2022-07-27 09:42:08.395 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 277.5000ms
2022-07-27 09:42:08.406 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2022-07-27 09:42:08.444 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - - - 200 1096145 application/javascript 328.1452ms
2022-07-27 09:42:09.269 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 09:42:09.494 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 225.8063ms
2022-07-27 09:43:22.900 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/register application/json-patch+json 181
2022-07-27 09:43:22.988 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Register (HotelListing)"'
2022-07-27 09:43:23.119 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Register\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.DTOs.UserDTO)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 09:43:28.059 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 09:43:31.275 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("124"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 09:43:31.362 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("9"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0"
2022-07-27 09:43:32.342 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [firstName], [lastName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);"
2022-07-27 09:43:32.483 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0"
2022-07-27 09:43:32.738 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)"
2022-07-27 09:43:32.784 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("17"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0"
2022-07-27 09:43:32.874 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0"
2022-07-27 09:43:32.893 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)"
2022-07-27 09:43:32.897 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0"
2022-07-27 09:43:32.906 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 09:43:32.921 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0"
2022-07-27 09:43:32.973 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);"
2022-07-27 09:43:32.976 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);"
2022-07-27 09:43:33.014 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("23"ms) [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13, [firstName] = @p14, [lastName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;"
2022-07-27 09:43:33.063 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 09:43:33.086 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Register (HotelListing)" in 9946.8121ms
2022-07-27 09:43:33.089 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Register (HotelListing)"'
2022-07-27 09:43:33.108 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/register application/json-patch+json 181 - 202 0 - 10207.9399ms
2022-07-27 15:04:46.903 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 15:04:47.266 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 15:04:47.267 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 15:04:47.267 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 15:04:47.309 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 15:04:47.427 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 119.9620ms
2022-07-27 15:04:47.701 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 15:04:47.835 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.1194ms
2022-07-27 15:05:02.891 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-27 15:05:02.918 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 15:05:02.942 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetAllCountries\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCountries()" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-27 15:05:03.853 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:05:04.471 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]"
2022-07-27 15:05:04.588 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[HotelListing.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2022-07-27 15:05:04.864 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)" in 1916.3539ms
2022-07-27 15:05:04.864 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 15:05:04.869 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 200 360 application/json;+charset=utf-8 1977.4894ms
2022-07-27 15:05:17.939 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/HotelApi/1 - -
2022-07-27 15:05:17.944 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.HotelApiController.GetHotelById (HotelListing)"'
2022-07-27 15:05:17.962 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetHotelById\", controller = \"HotelApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotelById(Int32)" on controller "HotelListing.APIs.HotelApiController" ("HotelListing").
2022-07-27 15:05:18.012 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:05:18.116 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("27"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [h].[hotelId], [h].[countryId], [h].[hotelAddress], [h].[hotelName], [h].[rating]
FROM [hotels] AS [h]
WHERE [h].[hotelId] = @__id_0"
2022-07-27 15:05:18.140 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"HotelListing.DTOs.HotelDTO"'.
2022-07-27 15:05:18.146 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.HotelApiController.GetHotelById (HotelListing)" in 183.8881ms
2022-07-27 15:05:18.147 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.HotelApiController.GetHotelById (HotelListing)"'
2022-07-27 15:05:18.147 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/HotelApi/1 - - - 200 97 application/json;+charset=utf-8 208.2113ms
2022-07-27 15:05:36.496 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 15:05:36.501 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 15:05:36.514 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-27 15:05:36.517 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi/1 - - - 302 - - 20.5195ms
2022-07-27 15:05:36.524 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-27 15:05:36.526 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 1.5115ms
2022-07-27 15:06:51.165 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 67
2022-07-27 15:06:51.166 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:06:51.172 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:06:51.217 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:06:51.229 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:06:51.330 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-27 15:06:51.358 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 15:06:51.375 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 10, Name: "AuthenticationSchemeSignedIn" }] AuthenticationScheme: "Identity.Application" signed in.
2022-07-27 15:06:51.377 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 15:06:51.377 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 204.4179ms
2022-07-27 15:06:51.377 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:06:51.378 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 67 - 202 0 - 212.7022ms
2022-07-27 15:07:26.434 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 62
2022-07-27 15:07:26.435 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:07:26.436 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:07:26.448 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:07:26.457 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:07:26.474 +02:00 [Warning] [Microsoft.AspNetCore.Identity.UserManager] [] Invalid password for user.
2022-07-27 15:07:26.474 +02:00 [Warning] [Microsoft.AspNetCore.Identity.SignInManager] [{ Id: 2 }] User failed to provide the correct password.
2022-07-27 15:07:26.475 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "UnauthorizedObjectResult", writing value of type '"HotelListing.DTOs.LoginUserDto"'.
2022-07-27 15:07:26.475 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 39.8808ms
2022-07-27 15:07:26.476 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:07:26.476 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 62 - 401 53 application/json;+charset=utf-8 41.9817ms
2022-07-27 15:07:46.486 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 62
2022-07-27 15:07:46.486 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:07:46.486 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:07:46.503 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:07:46.510 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:07:46.520 +02:00 [Warning] [Microsoft.AspNetCore.Identity.UserManager] [] Invalid password for user.
2022-07-27 15:07:46.520 +02:00 [Warning] [Microsoft.AspNetCore.Identity.SignInManager] [{ Id: 2 }] User failed to provide the correct password.
2022-07-27 15:07:46.520 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "UnauthorizedObjectResult", writing value of type '"HotelListing.DTOs.LoginUserDto"'.
2022-07-27 15:07:46.520 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 34.1425ms
2022-07-27 15:07:46.521 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:07:46.523 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 62 - 401 53 application/json;+charset=utf-8 36.9672ms
2022-07-27 15:07:59.496 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 67
2022-07-27 15:07:59.501 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:07:59.503 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:07:59.504 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:07:59.507 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:07:59.517 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-27 15:07:59.520 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 15:07:59.524 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 10, Name: "AuthenticationSchemeSignedIn" }] AuthenticationScheme: "Identity.Application" signed in.
2022-07-27 15:07:59.524 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 15:07:59.524 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 21.4563ms
2022-07-27 15:07:59.524 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:07:59.525 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 67 - 202 0 - 28.7846ms
2022-07-27 15:08:13.867 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 65
2022-07-27 15:08:13.867 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:08:13.867 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:08:13.868 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:08:13.872 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:08:13.873 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "UnauthorizedObjectResult", writing value of type '"HotelListing.DTOs.LoginUserDto"'.
2022-07-27 15:08:13.874 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 6.0762ms
2022-07-27 15:08:13.874 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:08:13.874 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 65 - 401 56 application/json;+charset=utf-8 6.9748ms
2022-07-27 15:08:15.263 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 65
2022-07-27 15:08:15.263 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:08:15.263 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:08:15.265 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:08:15.266 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:08:15.268 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "UnauthorizedObjectResult", writing value of type '"HotelListing.DTOs.LoginUserDto"'.
2022-07-27 15:08:15.269 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 5.5914ms
2022-07-27 15:08:15.269 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:08:15.269 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 65 - 401 56 application/json;+charset=utf-8 6.6508ms
2022-07-27 15:08:20.705 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 67
2022-07-27 15:08:20.706 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:08:20.706 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:08:20.707 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:08:20.709 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:08:20.720 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-27 15:08:20.722 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 15:08:20.723 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 10, Name: "AuthenticationSchemeSignedIn" }] AuthenticationScheme: "Identity.Application" signed in.
2022-07-27 15:08:20.723 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 15:08:20.723 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 16.5671ms
2022-07-27 15:08:20.723 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:08:20.723 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 67 - 202 0 - 17.8445ms
2022-07-27 15:08:39.193 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 15:08:39.197 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 15:08:39.198 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-27 15:08:39.198 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi/1 - - - 302 - - 5.9038ms
2022-07-27 15:08:39.218 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-27 15:08:39.218 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 0.6656ms
2022-07-27 15:09:24.200 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 70
2022-07-27 15:09:24.201 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:09:24.202 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:09:24.205 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:09:24.213 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("7"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:09:24.228 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-27 15:09:24.239 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 15:09:24.239 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 10, Name: "AuthenticationSchemeSignedIn" }] AuthenticationScheme: "Identity.Application" signed in.
2022-07-27 15:09:24.240 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 15:09:24.240 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 37.7058ms
2022-07-27 15:09:24.240 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:09:24.245 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 70 - 202 0 - 45.1647ms
2022-07-27 15:09:27.114 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 69
2022-07-27 15:09:27.115 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:09:27.115 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:09:27.116 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:09:27.121 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:09:27.131 +02:00 [Warning] [Microsoft.AspNetCore.Identity.UserManager] [] Invalid password for user.
2022-07-27 15:09:27.132 +02:00 [Warning] [Microsoft.AspNetCore.Identity.SignInManager] [{ Id: 2 }] User failed to provide the correct password.
2022-07-27 15:09:27.132 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "UnauthorizedObjectResult", writing value of type '"HotelListing.DTOs.LoginUserDto"'.
2022-07-27 15:09:27.132 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 17.3579ms
2022-07-27 15:09:27.132 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:09:27.133 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 69 - 401 57 application/json;+charset=utf-8 19.2821ms
2022-07-27 15:09:35.579 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 70
2022-07-27 15:09:35.579 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:09:35.579 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 15:09:35.580 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:09:35.583 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 15:09:35.596 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-27 15:09:35.598 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 15:09:35.599 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 10, Name: "AuthenticationSchemeSignedIn" }] AuthenticationScheme: "Identity.Application" signed in.
2022-07-27 15:09:35.599 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 15:09:35.599 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 20.0998ms
2022-07-27 15:09:35.599 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 15:09:35.600 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 70 - 202 0 - 21.1969ms
2022-07-27 15:10:01.502 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 15:10:01.502 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"405 HTTP Method Not Supported"'
2022-07-27 15:10:01.504 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"405 HTTP Method Not Supported"'
2022-07-27 15:10:01.510 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/CountryApi/1 application/json 70 - 405 - - 8.5058ms
2022-07-27 15:12:38.714 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 15:12:38.718 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"405 HTTP Method Not Supported"'
2022-07-27 15:12:38.719 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"405 HTTP Method Not Supported"'
2022-07-27 15:12:38.720 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/CountryApi/1 application/json 70 - 405 - - 5.7299ms
2022-07-27 15:22:12.492 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 15:22:12.496 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 15:22:12.496 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-27 15:22:12.497 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 302 - - 5.6202ms
2022-07-27 15:22:12.508 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-27 15:22:12.510 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 1.0664ms
2022-07-27 15:22:34.632 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 15:22:34.633 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 15:22:34.633 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-27 15:22:34.635 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 302 - - 2.4090ms
2022-07-27 15:22:34.636 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-27 15:22:34.643 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 6.8038ms
2022-07-27 15:24:04.587 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 multipart/form-data;+boundary=--------------------------501004157600026500108213 299
2022-07-27 15:24:04.588 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 15:24:04.588 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-27 15:24:04.589 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 multipart/form-data;+boundary=--------------------------501004157600026500108213 299 - 302 - - 1.7304ms
2022-07-27 15:24:04.596 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-27 15:24:04.597 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 0.8764ms
2022-07-27 15:24:56.184 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 15:24:57.416 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 15:24:57.416 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 15:24:57.416 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 15:24:57.485 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 15:24:57.485 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 15:24:57.485 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 multipart/form-data;+boundary=--------------------------308555392486922175558535 299
2022-07-27 15:24:57.540 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-27 15:24:57.583 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetCountryById\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountryById(Int32)" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-27 15:24:57.774 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 292.0487ms
2022-07-27 15:24:57.774 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 292.0316ms
2022-07-27 15:24:58.058 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 15:24:58.063 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.8547ms
2022-07-27 15:24:58.810 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 15:25:00.183 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("41"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]
WHERE [c].[countryId] = @__id_0"
2022-07-27 15:25:00.263 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"HotelListing.DTOs.CountryDTO"'.
2022-07-27 15:25:00.406 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)" in 2817.9672ms
2022-07-27 15:25:00.407 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-27 15:25:00.411 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 multipart/form-data;+boundary=--------------------------308555392486922175558535 299 - 200 62 application/json;+charset=utf-8 2930.1994ms
2022-07-27 19:55:36.736 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 19:55:38.325 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 19:55:38.325 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 19:55:38.325 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 19:55:38.461 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger - -
2022-07-27 19:55:38.637 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger - - - 301 - - 178.5567ms
2022-07-27 19:55:38.649 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 19:55:38.884 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 235.7121ms
2022-07-27 19:55:38.950 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - -
2022-07-27 19:55:38.955 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - -
2022-07-27 19:55:38.963 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - -
2022-07-27 19:55:39.062 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
2022-07-27 19:55:39.062 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
2022-07-27 19:55:39.068 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - - - 200 143943 text/css 117.8509ms
2022-07-27 19:55:39.075 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 112.0069ms
2022-07-27 19:55:39.239 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2022-07-27 19:55:39.310 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - - - 200 1096145 application/javascript 355.2430ms
2022-07-27 19:55:40.213 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 19:55:40.404 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 191.1918ms
2022-07-27 19:56:22.179 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67
2022-07-27 19:57:38.655 +02:00 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at HotelListing.Startup.<ConfigureServices>b__4_2(JwtBearerOptions opt) in D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing\Startup.cs:line 64
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-07-27 19:57:38.921 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67 - 500 - text/plain 76742.1633ms
2022-07-27 19:59:49.157 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 19:59:49.965 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 19:59:49.966 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 19:59:49.966 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 19:59:50.060 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 19:59:50.060 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 19:59:50.342 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 287.5354ms
2022-07-27 19:59:50.344 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 291.3578ms
2022-07-27 19:59:50.850 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 19:59:50.861 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 11.0511ms
2022-07-27 20:00:03.484 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67
2022-07-27 20:00:28.892 +02:00 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at HotelListing.Startup.<ConfigureServices>b__4_2(JwtBearerOptions opt) in D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing\Startup.cs:line 64
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-07-27 20:00:29.026 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67 - 500 - text/plain 25542.0610ms
2022-07-27 20:08:15.516 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 20:08:16.580 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 20:08:16.581 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 20:08:16.581 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 20:08:16.669 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 20:08:16.939 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 277.0861ms
2022-07-27 20:08:17.572 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:08:17.759 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.6389ms
2022-07-27 20:08:35.049 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67
2022-07-27 20:12:15.808 +02:00 [Error] [Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware] [{ Id: 1, Name: "UnhandledException" }] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at System.Text.UTF8Encoding.UTF8EncodingSealed.GetBytes(String s)
   at HotelListing.Startup.<ConfigureServices>b__4_2(JwtBearerOptions opt) in D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing\Startup.cs:line 64
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-07-27 20:12:15.878 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67 - 500 - text/plain 220828.8014ms
2022-07-27 20:19:46.634 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 20:19:47.259 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 20:19:47.259 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 20:19:47.259 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 20:19:47.308 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 20:19:47.308 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:19:47.451 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.1861ms
2022-07-27 20:19:47.451 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 146.3347ms
2022-07-27 20:19:47.772 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:19:47.776 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.9114ms
2022-07-27 20:20:27.827 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67
2022-07-27 20:20:28.297 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:20:28.348 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:20:30.124 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:20:31.382 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("63"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:20:31.692 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:20:31.840 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:20:31.892 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 3538.0967ms
2022-07-27 20:20:31.893 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:20:31.901 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67 - 202 253 application/json;+charset=utf-8 4073.6906ms
2022-07-27 20:21:04.192 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 multipart/form-data;+boundary=--------------------------096266940578217137816916 299
2022-07-27 20:21:04.200 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:21:04.207 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:21:04.209 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 multipart/form-data;+boundary=--------------------------096266940578217137816916 299 - 401 - - 17.0352ms
2022-07-27 20:21:28.861 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/loginWithJWT multipart/form-data;+boundary=--------------------------610595556560333596211679 299
2022-07-27 20:21:28.869 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/loginWithJWT multipart/form-data;+boundary=--------------------------610595556560333596211679 299 - 404 - - 8.4180ms
2022-07-27 20:22:05.815 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/loginWithJWT application/json 70
2022-07-27 20:22:05.821 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/loginWithJWT application/json 70 - 404 - - 5.9474ms
2022-07-27 20:22:24.154 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/UserApi/;oginWithJWT application/json 70
2022-07-27 20:22:24.161 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/UserApi/;oginWithJWT application/json 70 - 404 - - 7.6065ms
2022-07-27 20:22:26.821 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/UserApi/;oginWithJWT application/json 70
2022-07-27 20:22:26.823 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/UserApi/;oginWithJWT application/json 70 - 404 - - 1.5504ms
2022-07-27 20:22:41.747 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/UserApi/loginWithJWT application/json 70
2022-07-27 20:22:41.747 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"405 HTTP Method Not Supported"'
2022-07-27 20:22:41.748 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"405 HTTP Method Not Supported"'
2022-07-27 20:22:41.751 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/UserApi/loginWithJWT application/json 70 - 405 - - 3.9770ms
2022-07-27 20:23:15.481 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 70
2022-07-27 20:23:15.481 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:23:15.486 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:23:15.528 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:23:15.533 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:23:15.544 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:23:15.545 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:23:15.546 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 60.1756ms
2022-07-27 20:23:15.546 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:23:15.546 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 70 - 202 253 application/json;+charset=utf-8 65.8247ms
2022-07-27 20:23:51.897 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:23:51.898 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:23:51.899 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:23:51.901 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 3.2270ms
2022-07-27 20:24:05.243 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:24:05.248 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:24:05.257 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:24:05.259 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 15.9836ms
2022-07-27 20:24:07.647 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:24:07.648 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:24:07.649 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:24:07.659 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 11.9033ms
2022-07-27 20:24:42.829 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:24:42.829 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:24:42.830 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:24:42.834 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 5.8079ms
2022-07-27 20:26:11.249 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:26:11.249 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:26:11.625 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:26:11.676 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:26:11.678 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 429.0513ms
2022-07-27 20:26:17.807 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:26:17.807 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:26:17.814 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:26:17.815 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:26:17.818 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 11.0189ms
2022-07-27 20:28:04.360 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 69
2022-07-27 20:28:04.364 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:28:04.365 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:28:04.365 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:28:04.365 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:28:04.387 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:28:04.402 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:28:04.409 +02:00 [Warning] [Microsoft.AspNetCore.Identity.UserManager] [] Invalid password for user.
2022-07-27 20:28:04.410 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "UnauthorizedObjectResult", writing value of type '"HotelListing.DTOs.LoginUserDto"'.
2022-07-27 20:28:04.411 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 45.758ms
2022-07-27 20:28:04.411 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:28:04.416 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 69 - 401 57 application/json;+charset=utf-8 56.2672ms
2022-07-27 20:28:11.700 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 70
2022-07-27 20:28:11.702 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:28:11.702 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:28:11.702 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:28:11.703 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:28:11.704 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:28:11.710 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:28:11.723 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:28:11.724 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:28:11.724 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 21.4093ms
2022-07-27 20:28:11.724 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:28:11.726 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 70 - 202 253 application/json;+charset=utf-8 26.6086ms
2022-07-27 20:30:00.631 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:30:00.632 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:30:00.636 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:30:00.636 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:30:00.637 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 6.8151ms
2022-07-27 20:32:45.352 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 20:32:45.800 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 20:32:45.800 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 20:32:45.800 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 20:32:45.847 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:32:45.847 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 20:32:45.847 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:32:46.165 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 319.8305ms
2022-07-27 20:32:46.165 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 319.8340ms
2022-07-27 20:32:46.370 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:32:46.431 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:32:46.438 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:32:46.447 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:32:46.450 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 606.0310ms
2022-07-27 20:32:46.526 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:32:46.531 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.2983ms
2022-07-27 20:32:48.119 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:32:48.124 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:32:48.125 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:32:48.126 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:32:48.126 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:32:48.128 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 9.6177ms
2022-07-27 20:33:12.453 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67
2022-07-27 20:33:12.458 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:33:12.496 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:33:13.368 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:33:14.097 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("59"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:33:14.322 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:33:14.376 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:33:14.434 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1932.7159ms
2022-07-27 20:33:14.436 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:33:14.442 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67 - 202 253 application/json;+charset=utf-8 1988.6423ms
2022-07-27 20:33:33.214 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:33:33.214 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:33:33.215 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:33:33.216 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:33:33.217 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:33:33.219 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 5.5914ms
2022-07-27 20:36:32.354 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/register application/json-patch+json 163
2022-07-27 20:36:32.355 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Register (HotelListing)"'
2022-07-27 20:36:32.363 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Register\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.DTOs.UserDTO)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:36:32.453 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:36:32.457 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:36:32.473 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0"
2022-07-27 20:36:32.575 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [firstName], [lastName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);"
2022-07-27 20:36:32.607 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0"
2022-07-27 20:36:32.626 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)"
2022-07-27 20:36:32.631 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__normalizedRoleName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0"
2022-07-27 20:36:32.642 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:36:32.645 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0"
2022-07-27 20:36:32.660 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);"
2022-07-27 20:36:32.667 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13, [firstName] = @p14, [lastName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;"
2022-07-27 20:36:32.672 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 20:36:32.672 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Register (HotelListing)" in 308.3619ms
2022-07-27 20:36:32.672 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Register (HotelListing)"'
2022-07-27 20:36:32.673 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/register application/json-patch+json 163 - 202 0 - 318.9425ms
2022-07-27 20:38:28.172 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 62
2022-07-27 20:38:28.176 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:38:28.177 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:38:28.177 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:38:28.177 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:38:28.202 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:38:28.205 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:38:28.219 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:38:28.227 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:38:28.228 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 51.2401ms
2022-07-27 20:38:28.228 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:38:28.229 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 62 - 202 345 application/json;+charset=utf-8 57.0137ms
2022-07-27 20:38:50.342 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:38:50.350 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:38:50.350 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:38:50.350 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:38:50.351 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:38:50.354 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 11.3519ms
2022-07-27 20:38:59.846 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:38:59.847 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:38:59.848 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:38:59.848 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:38:59.848 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:38:59.850 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 3.5777ms
2022-07-27 20:39:09.429 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:39:09.432 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:39:09.434 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:39:09.434 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:39:09.434 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:39:09.440 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 10.9013ms
2022-07-27 20:41:57.553 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 20:41:58.061 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 20:41:58.065 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 20:41:58.070 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 20:41:58.132 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 20:41:58.132 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:41:58.310 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.6854ms
2022-07-27 20:41:58.310 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 182.2239ms
2022-07-27 20:41:58.650 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:41:58.657 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.6301ms
2022-07-27 20:42:00.884 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:42:01.307 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:42:01.385 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:42:01.395 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:42:01.409 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:42:01.411 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 526.8313ms
2022-07-27 20:42:05.451 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:42:05.456 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:42:05.457 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:42:05.457 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:42:05.458 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:42:05.460 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 8.0124ms
2022-07-27 20:42:46.425 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67
2022-07-27 20:42:46.431 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:42:46.458 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:42:47.436 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:42:48.177 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("61"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:42:48.405 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:42:48.451 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:42:48.503 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 2040.5467ms
2022-07-27 20:42:48.504 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:42:48.510 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67 - 202 253 application/json;+charset=utf-8 2085.2103ms
2022-07-27 20:43:40.687 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:43:40.687 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:43:40.688 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:43:40.688 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:43:40.689 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:43:40.690 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 3.4692ms
2022-07-27 20:47:07.177 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:47:07.177 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:47:07.177 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:47:07.179 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 2.6315ms
2022-07-27 20:47:28.849 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:47:28.852 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:47:28.884 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:47:28.886 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 37.1123ms
2022-07-27 20:47:38.569 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:47:38.569 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:47:38.570 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:47:38.570 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:47:38.570 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:47:38.575 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 5.9079ms
2022-07-27 20:55:22.723 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 20:55:23.249 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 20:55:23.249 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 20:55:23.249 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 20:55:23.344 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:55:23.344 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 20:55:23.536 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.7197ms
2022-07-27 20:55:23.536 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 194.7202ms
2022-07-27 20:55:23.948 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:55:23.958 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 9.8560ms
2022-07-27 20:55:26.474 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:55:26.848 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:55:26.910 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:55:26.920 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:55:26.931 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:55:26.933 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 459.2081ms
2022-07-27 20:55:39.564 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-27 20:55:39.570 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:55:39.570 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:55:39.571 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:55:39.571 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:55:39.574 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 401 - - 10.2248ms
2022-07-27 20:56:10.011 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 70
2022-07-27 20:56:10.018 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:56:10.018 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:56:10.019 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:56:10.068 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:56:11.455 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:56:12.374 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("69"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:56:12.640 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:56:12.697 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:56:12.763 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 2687.6465ms
2022-07-27 20:56:12.764 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:56:12.772 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 70 - 202 253 application/json;+charset=utf-8 2760.6460ms
2022-07-27 20:56:45.321 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:56:45.322 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:56:45.323 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:56:45.324 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:56:45.325 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:56:45.334 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 12.8452ms
2022-07-27 20:57:17.418 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 20:57:18.108 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 20:57:18.108 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 20:57:18.108 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 20:57:18.231 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 20:57:18.231 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:57:18.447 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 222.0404ms
2022-07-27 20:57:18.447 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 222.0350ms
2022-07-27 20:57:18.778 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 20:57:18.794 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 16.0644ms
2022-07-27 20:57:50.867 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58
2022-07-27 20:57:50.873 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 20:57:50.993 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:57:51.027 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 20:57:51.956 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 20:57:52.506 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("36"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 20:57:52.665 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 20:57:52.752 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 20:57:52.790 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1758.5559ms
2022-07-27 20:57:52.790 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 20:57:52.794 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58 - 202 345 application/json;+charset=utf-8 1927.2579ms
2022-07-27 20:58:39.235 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 20:58:39.289 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 20:58:39.319 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 20:58:39.324 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 20:58:39.330 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 20:58:39.332 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 97.8573ms
2022-07-27 21:03:51.411 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 21:03:51.416 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 21:03:51.417 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 21:03:51.417 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 21:03:51.418 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 21:03:51.424 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 12.0475ms
2022-07-27 21:06:32.594 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 21:06:32.959 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 21:06:32.959 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 21:06:32.960 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 21:06:33.006 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 21:06:33.140 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 138.3812ms
2022-07-27 21:06:33.426 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 21:06:33.537 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.1929ms
2022-07-27 21:06:35.791 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 21:06:36.131 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 21:06:36.208 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 21:06:36.219 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 21:06:36.236 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 21:06:36.238 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 447.4182ms
2022-07-27 21:10:04.626 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 21:10:05.081 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 21:10:05.082 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 21:10:05.082 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 21:10:05.134 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 21:10:05.134 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 21:10:05.272 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 140.8800ms
2022-07-27 21:10:05.272 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.9489ms
2022-07-27 21:10:05.582 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 21:10:05.588 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.4942ms
2022-07-27 21:10:07.410 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 21:10:07.643 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 21:10:07.681 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 21:10:07.685 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 21:10:07.692 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 21:10:07.693 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 282.8126ms
2022-07-27 21:14:04.546 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 21:14:04.995 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 21:14:04.995 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 21:14:04.995 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 21:14:05.053 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 21:14:05.053 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 21:14:05.217 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 165.8319ms
2022-07-27 21:14:05.217 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.9161ms
2022-07-27 21:14:05.552 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 21:14:05.559 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.4322ms
2022-07-27 21:14:08.620 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 21:14:08.878 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 21:14:08.926 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 21:14:08.932 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 21:14:08.941 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 21:14:08.943 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 322.3272ms
2022-07-27 21:14:15.470 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi application/json 70
2022-07-27 21:14:15.473 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 21:14:15.473 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 21:14:15.474 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 21:14:15.505 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetAllCountries\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCountries()" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-27 21:14:16.303 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 21:14:16.914 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]"
2022-07-27 21:14:17.024 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[HotelListing.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2022-07-27 21:14:17.140 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)" in 1625.2035ms
2022-07-27 21:14:17.140 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 21:14:17.147 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi application/json 70 - 200 360 application/json;+charset=utf-8 1677.6036ms
2022-07-27 21:14:22.081 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 21:14:22.083 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 21:14:22.084 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 21:14:22.085 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 21:14:22.085 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 21:14:22.089 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 7.8682ms
2022-07-27 21:14:26.564 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 21:14:26.565 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 21:14:26.565 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 21:14:26.566 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 21:14:26.567 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 21:14:26.570 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 5.0088ms
2022-07-27 22:00:35.570 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 22:00:35.875 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 22:00:35.875 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 22:00:35.875 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 22:00:35.912 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 22:00:36.013 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 102.9253ms
2022-07-27 22:00:36.208 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 22:00:36.333 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.9918ms
2022-07-27 22:01:00.833 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68
2022-07-27 22:01:00.839 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 22:01:00.945 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:01:00.977 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:01:01.890 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:01:02.454 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("49"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:01:02.640 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:01:02.722 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 22:01:02.754 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1772.4772ms
2022-07-27 22:01:02.755 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:01:02.759 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68 - 202 253 application/json;+charset=utf-8 1926.1792ms
2022-07-27 22:01:39.195 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:01:39.243 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:01:39.276 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:01:39.280 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 22:01:39.285 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:01:39.288 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 93.3519ms
2022-07-27 22:02:21.015 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:02:21.021 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:02:21.022 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:02:21.023 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 22:02:21.023 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:02:21.029 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 14.9848ms
2022-07-27 22:12:05.093 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 22:12:05.447 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 22:12:05.448 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 22:12:05.448 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 22:12:05.505 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 22:12:05.505 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 22:12:05.622 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 119.7632ms
2022-07-27 22:12:05.622 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 120.3627ms
2022-07-27 22:12:05.878 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 22:12:05.885 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.8746ms
2022-07-27 22:12:19.238 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68
2022-07-27 22:12:19.245 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 22:12:19.365 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:12:19.400 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:12:20.532 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:12:21.263 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("72"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:12:21.486 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:12:21.608 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 22:12:21.663 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 2258.0109ms
2022-07-27 22:12:21.664 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:12:21.671 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68 - 202 221 application/json;+charset=utf-8 2432.9807ms
2022-07-27 22:12:45.101 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:12:45.156 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:12:45.188 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:12:45.192 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 22:12:45.198 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:12:45.200 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 98.9131ms
2022-07-27 22:13:09.584 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:13:09.590 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:13:09.591 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:13:09.592 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 22:13:09.592 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:13:09.594 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 10.0024ms
2022-07-27 22:13:36.462 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:13:36.463 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "No SecurityTokenValidator available for token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoib21hckBnbWFpbC5jb20iLCJleHAiOjE2NTg5NTM2NDF9.WaADZXiZhKHGUyE9n_ZhNtJYv5GLRiLZrENA0-b4-U4'"
2022-07-27 22:13:36.467 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 22:13:36.467 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:13:36.469 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 6.6260ms
2022-07-27 22:13:43.054 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:13:43.054 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:13:43.055 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:13:43.056 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 22:13:43.056 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:13:43.076 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 22.0014ms
2022-07-27 22:13:55.810 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:13:55.810 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:13:55.811 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:13:55.811 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-27 22:13:55.811 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:13:55.812 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 2.6799ms
2022-07-27 22:21:46.146 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 22:21:46.542 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 22:21:46.542 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 22:21:46.542 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 22:21:46.580 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 22:21:46.702 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 123.8266ms
2022-07-27 22:21:46.965 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 22:21:47.073 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.4738ms
2022-07-27 22:21:47.437 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70
2022-07-27 22:21:47.770 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:21:47.824 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:21:47.831 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (USER)"
2022-07-27 22:21:47.845 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:21:47.847 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 70 - 401 - - 410.0281ms
2022-07-27 22:22:07.072 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/UserApi/login application/json 70
2022-07-27 22:22:07.077 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:22:07.077 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:22:07.079 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"405 HTTP Method Not Supported"'
2022-07-27 22:22:07.079 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"405 HTTP Method Not Supported"'
2022-07-27 22:22:07.081 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/UserApi/login application/json 70 - 405 - - 9.2651ms
2022-07-27 22:22:14.162 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/UserApi/login application/json 72
2022-07-27 22:22:14.169 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:22:14.169 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:22:14.169 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"405 HTTP Method Not Supported"'
2022-07-27 22:22:14.170 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"405 HTTP Method Not Supported"'
2022-07-27 22:22:14.172 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/UserApi/login application/json 72 - 405 - - 9.8762ms
2022-07-27 22:22:18.495 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 72
2022-07-27 22:22:18.496 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:22:18.496 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:22:18.496 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 22:22:18.534 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:22:19.559 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:22:20.284 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("56"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:22:20.504 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-27 22:22:20.539 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:22:20.569 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 10, Name: "AuthenticationSchemeSignedIn" }] AuthenticationScheme: "Identity.Application" signed in.
2022-07-27 22:22:20.576 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-27 22:22:20.583 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 2043.7254ms
2022-07-27 22:22:20.584 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-27 22:22:20.591 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/login application/json 72 - 202 0 - 2096.2619ms
2022-07-27 22:24:07.141 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68
2022-07-27 22:24:07.147 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 22:24:07.147 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:24:07.154 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:24:07.194 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:24:07.202 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:24:07.216 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:24:07.243 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 22:24:07.284 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 129.8427ms
2022-07-27 22:24:07.284 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:24:07.285 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68 - 202 253 application/json;+charset=utf-8 143.7870ms
2022-07-27 22:24:42.690 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-27 22:24:42.694 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:24:42.695 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:24:42.695 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (USER)"
2022-07-27 22:24:42.696 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:24:42.701 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 401 - - 11.0541ms
2022-07-27 22:30:25.887 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 22:30:26.243 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 22:30:26.249 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 22:30:26.249 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 22:30:26.294 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 22:30:26.440 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 149.2502ms
2022-07-27 22:30:26.855 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 22:30:27.080 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.7599ms
2022-07-27 22:30:44.832 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68
2022-07-27 22:30:44.839 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 22:30:44.960 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:30:44.996 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:30:46.138 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:30:46.803 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("49"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:30:46.991 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:30:47.098 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 22:30:47.147 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 2143.4502ms
2022-07-27 22:30:47.148 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:30:47.154 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68 - 202 253 application/json;+charset=utf-8 2322.8547ms
2022-07-27 22:32:53.824 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-27 22:32:54.313 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-27 22:32:54.314 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-27 22:32:54.314 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-27 22:32:54.376 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 22:32:54.376 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-27 22:32:54.544 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 171.2593ms
2022-07-27 22:32:54.544 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.2570ms
2022-07-27 22:32:54.873 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-27 22:32:54.879 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.4687ms
2022-07-27 22:33:04.782 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68
2022-07-27 22:33:04.787 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 22:33:04.883 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:33:04.917 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:33:05.999 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:33:06.819 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("54"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:33:07.028 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:33:07.138 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 22:33:07.181 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 2258.9913ms
2022-07-27 22:33:07.182 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:33:07.188 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 68 - 202 253 application/json;+charset=utf-8 2405.8035ms
2022-07-27 22:33:21.098 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 59
2022-07-27 22:33:21.098 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 22:33:21.102 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:33:21.102 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:33:21.133 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:33:21.138 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:33:21.150 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:33:21.151 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 22:33:21.152 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 49.3298ms
2022-07-27 22:33:21.153 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:33:21.157 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 59 - 202 345 application/json;+charset=utf-8 58.6066ms
2022-07-27 22:33:24.584 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 59
2022-07-27 22:33:24.585 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-27 22:33:24.586 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:33:24.587 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-27 22:33:24.605 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:33:24.609 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-27 22:33:24.620 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-27 22:33:24.620 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-27 22:33:24.621 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 33.8422ms
2022-07-27 22:33:24.621 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-27 22:33:24.621 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 59 - 202 345 application/json;+charset=utf-8 37.2437ms
2022-07-27 22:34:30.065 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-27 22:34:30.072 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 22:34:30.085 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetAllCountries\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCountries()" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-27 22:34:30.087 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:34:30.096 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]"
2022-07-27 22:34:30.121 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[HotelListing.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2022-07-27 22:34:30.128 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)" in 43.2585ms
2022-07-27 22:34:30.129 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 22:34:30.136 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 200 360 application/json;+charset=utf-8 66.0682ms
2022-07-27 22:34:42.576 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi application/json 72
2022-07-27 22:34:42.616 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:34:42.647 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:34:42.647 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 22:34:42.647 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetAllCountries\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCountries()" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-27 22:34:42.648 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-27 22:34:42.650 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]"
2022-07-27 22:34:42.652 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[HotelListing.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2022-07-27 22:34:42.652 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)" in 4.6015ms
2022-07-27 22:34:42.652 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-27 22:34:42.653 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi application/json 72 - 200 360 application/json;+charset=utf-8 76.7703ms
2022-07-27 22:34:56.473 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-27 22:34:56.474 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:34:56.476 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:34:56.482 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (USER)"
2022-07-27 22:34:56.488 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:34:56.490 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 401 - - 16.7781ms
2022-07-27 22:35:05.392 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-27 22:35:05.393 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-27 22:35:05.393 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-27 22:35:05.394 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (USER)"
2022-07-27 22:35:05.395 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-27 22:35:05.396 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 401 - - 3.8056ms
