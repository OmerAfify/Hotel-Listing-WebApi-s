2022-07-28 09:31:55.834 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 09:31:57.605 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 09:31:57.605 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 09:31:57.606 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 09:31:57.839 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger - -
2022-07-28 09:31:58.022 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 09:31:58.038 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger - - - 301 - - 208.4414ms
2022-07-28 09:31:58.253 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 230.5945ms
2022-07-28 09:31:58.340 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - -
2022-07-28 09:31:58.341 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - -
2022-07-28 09:31:58.354 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - -
2022-07-28 09:31:58.488 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2022-07-28 09:31:58.488 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
2022-07-28 09:31:58.494 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui.css - - - 200 143943 text/css 153.4464ms
2022-07-28 09:31:58.569 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-bundle.js - - - 200 1096145 application/javascript 227.8924ms
2022-07-28 09:31:58.587 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
2022-07-28 09:31:58.600 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 258.3908ms
2022-07-28 09:31:59.317 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 09:31:59.403 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/favicon-32x32.png - -
2022-07-28 09:31:59.405 +02:00 [Information] [Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] [{ Id: 2, Name: "FileServed" }] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
2022-07-28 09:31:59.406 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/favicon-32x32.png - - - 200 628 image/png 3.4537ms
2022-07-28 09:31:59.540 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 222.6760ms
2022-07-28 09:32:41.621 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 58
2022-07-28 09:32:41.631 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 09:32:42.434 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-28 09:32:42.561 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 09:32:47.408 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 09:32:51.085 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("167"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 09:32:51.975 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("24"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-28 09:32:52.094 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 09:32:52.115 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0"
2022-07-28 09:32:52.171 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("5"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0"
2022-07-28 09:32:52.239 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 10, Name: "AuthenticationSchemeSignedIn" }] AuthenticationScheme: "Identity.Application" signed in.
2022-07-28 09:32:52.257 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"null"'.
2022-07-28 09:32:52.275 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.Login (HotelListing)" in 9696.49ms
2022-07-28 09:32:52.277 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-28 09:32:52.293 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/login application/json-patch+json 58 - 202 0 - 10671.5127ms
2022-07-28 09:33:15.055 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58
2022-07-28 09:33:15.056 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 09:33:15.085 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 09:33:15.093 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 09:33:15.224 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 09:33:15.240 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 09:33:15.287 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 09:33:15.728 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 09:33:15.870 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 776.8504ms
2022-07-28 09:33:15.871 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 09:33:15.872 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58 - 202 345 application/json;+charset=utf-8 816.6819ms
2022-07-28 09:33:53.083 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-28 09:33:53.243 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 09:33:53.502 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'."
2022-07-28 09:33:53.515 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 09:33:53.534 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 09:33:53.539 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 401 - - 455.7993ms
2022-07-28 09:34:05.967 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-28 09:34:05.979 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 09:34:05.980 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 09:34:05.981 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 09:34:05.984 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 09:34:05.995 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 401 - - 27.8226ms
2022-07-28 09:41:25.954 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 09:41:26.797 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 09:41:26.797 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 09:41:26.798 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 09:41:26.910 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 09:41:26.910 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 09:41:27.216 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 312.3169ms
2022-07-28 09:41:27.216 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 312.3179ms
2022-07-28 09:41:27.837 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 09:41:27.854 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 17.5001ms
2022-07-28 09:41:33.994 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-28 09:41:34.866 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 09:41:34.995 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 09:41:35.015 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 09:41:35.036 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 09:41:35.042 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 401 - - 1044.8228ms
2022-07-28 09:50:28.243 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 09:50:29.273 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 09:50:29.275 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 09:50:29.275 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 09:50:29.422 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 09:50:29.781 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 374.3533ms
2022-07-28 09:50:30.486 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 09:50:30.739 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 253.4340ms
2022-07-28 09:50:38.086 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-28 09:50:38.203 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 09:50:38.230 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 09:50:38.237 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 302 - - 149.3359ms
2022-07-28 09:50:38.247 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-28 09:50:38.253 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 5.5660ms
2022-07-28 09:50:41.737 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72
2022-07-28 09:50:41.741 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 09:50:41.742 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 09:50:41.745 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 application/json 72 - 302 - - 8.5967ms
2022-07-28 09:50:41.747 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-28 09:50:41.749 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 1.6324ms
2022-07-28 09:58:29.025 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 09:58:29.702 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 09:58:29.702 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 09:58:29.703 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 09:58:29.769 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 09:58:29.979 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 213.1413ms
2022-07-28 09:58:30.620 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 09:58:30.826 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.1965ms
2022-07-28 09:58:55.008 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 09:58:55.101 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-28 09:58:55.148 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetAllCountries\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCountries()" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-28 09:58:57.136 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 09:58:58.515 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("65"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]"
2022-07-28 09:58:58.701 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[HotelListing.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2022-07-28 09:58:59.007 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)" in 3845.9158ms
2022-07-28 09:58:59.009 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-28 09:58:59.022 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 200 360 application/json;+charset=utf-8 4014.6782ms
2022-07-28 09:59:05.432 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-28 09:59:05.449 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 09:59:05.467 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 09:59:05.470 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 302 - - 37.5753ms
2022-07-28 09:59:05.478 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-28 09:59:05.482 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 3.4990ms
2022-07-28 09:59:55.607 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT text/plain 61
2022-07-28 09:59:55.611 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 09:59:55.665 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 09:59:55.698 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
2022-07-28 09:59:55.724 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 58.8868ms
2022-07-28 09:59:55.724 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 09:59:55.726 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT text/plain 61 - 415 175 application/problem+json;+charset=utf-8 119.2041ms
2022-07-28 10:00:54.265 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 61
2022-07-28 10:00:54.298 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 10:00:54.298 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 10:00:54.658 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 10:00:55.092 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("102"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 10:00:55.790 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 10:00:56.022 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 10:00:56.028 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1730.0007ms
2022-07-28 10:00:56.028 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 10:00:56.029 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 61 - 202 345 application/json;+charset=utf-8 1763.7017ms
2022-07-28 10:01:21.494 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-28 10:01:21.504 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:01:21.505 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:01:21.516 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-28 10:01:21.519 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 3.0497ms
2022-07-28 10:01:21.521 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 302 - - 24.9440ms
2022-07-28 10:03:40.328 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-28 10:03:40.344 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:03:40.345 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:03:40.349 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 302 - - 20.8863ms
2022-07-28 10:03:40.395 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - -
2022-07-28 10:03:40.406 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F1 - - - 404 - - 11.0334ms
2022-07-28 10:03:47.654 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:03:47.655 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-28 10:03:47.656 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetAllCountries\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCountries()" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-28 10:03:47.678 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 10:03:47.684 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]"
2022-07-28 10:03:47.696 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[HotelListing.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
2022-07-28 10:03:47.698 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)" in 41.0819ms
2022-07-28 10:03:47.698 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetAllCountries (HotelListing)"'
2022-07-28 10:03:47.699 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 200 360 application/json;+charset=utf-8 44.7897ms
2022-07-28 10:03:53.270 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - -
2022-07-28 10:03:53.271 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:03:53.271 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:03:53.277 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - - - 302 - - 7.4553ms
2022-07-28 10:03:53.279 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F5 - -
2022-07-28 10:03:53.283 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F5 - - - 404 - - 4.5166ms
2022-07-28 10:04:39.332 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 10:04:40.089 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 10:04:40.104 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 10:04:40.104 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 10:04:40.183 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 10:04:40.444 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 266.7626ms
2022-07-28 10:04:41.171 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 10:04:41.347 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.2355ms
2022-07-28 10:04:48.066 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - -
2022-07-28 10:04:48.190 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 10:04:48.293 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetCountryById\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountryById(Int32)" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-28 10:04:50.635 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 10:04:52.546 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("81"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]
WHERE [c].[countryId] = @__id_0"
2022-07-28 10:04:52.734 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"HotelListing.DTOs.CountryDTO"'.
2022-07-28 10:04:53.219 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)" in 4913.1049ms
2022-07-28 10:04:53.221 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 10:04:53.234 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - - - 200 66 application/json;+charset=utf-8 5168.1760ms
2022-07-28 10:05:20.911 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 10:05:21.636 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 10:05:21.637 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 10:05:21.638 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 10:05:21.709 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 10:05:21.709 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 10:05:21.946 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 240.2595ms
2022-07-28 10:05:21.946 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 240.2685ms
2022-07-28 10:05:22.614 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 10:05:22.624 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.3647ms
2022-07-28 10:05:28.166 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - -
2022-07-28 10:05:28.261 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:05:28.275 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:05:28.279 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - - - 302 - - 113.3480ms
2022-07-28 10:05:28.289 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F5 - -
2022-07-28 10:05:28.295 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi%2F5 - - - 404 - - 5.7948ms
2022-07-28 10:07:37.993 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 10:07:38.705 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 10:07:38.706 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 10:07:38.706 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 10:07:38.777 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 10:07:38.777 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 10:07:38.990 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 219.0325ms
2022-07-28 10:07:38.990 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 217.6152ms
2022-07-28 10:07:39.613 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 10:07:39.622 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.5778ms
2022-07-28 10:07:45.414 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 61
2022-07-28 10:07:45.502 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 10:07:45.591 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 10:08:13.431 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 10:08:14.628 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("84"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 10:08:15.021 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 10:08:15.197 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 10:08:15.263 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 29661.4313ms
2022-07-28 10:08:15.265 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 10:08:15.273 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 61 - 202 345 application/json;+charset=utf-8 29859.0857ms
2022-07-28 10:08:29.386 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - -
2022-07-28 10:08:29.393 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 10:08:29.407 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetCountryById\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountryById(Int32)" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-28 10:08:29.502 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 10:08:29.521 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]
WHERE [c].[countryId] = @__id_0"
2022-07-28 10:08:29.583 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"HotelListing.DTOs.CountryDTO"'.
2022-07-28 10:08:29.593 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)" in 185.1887ms
2022-07-28 10:08:29.593 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 10:08:29.595 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/5 - - - 200 66 application/json;+charset=utf-8 208.6927ms
2022-07-28 10:08:33.594 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:08:33.603 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:08:33.618 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:08:33.621 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 302 - - 27.6377ms
2022-07-28 10:08:33.631 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - -
2022-07-28 10:08:33.641 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - - - 404 - - 2.5499ms
2022-07-28 10:08:39.761 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:08:39.765 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:08:39.766 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:08:39.787 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 302 - - 25.3564ms
2022-07-28 10:08:39.791 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - -
2022-07-28 10:08:39.795 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - - - 404 - - 3.5668ms
2022-07-28 10:08:57.655 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:08:57.658 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:08:57.660 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:08:57.664 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 302 - - 8.9759ms
2022-07-28 10:08:57.670 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - -
2022-07-28 10:08:57.683 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - - - 404 - - 12.7247ms
2022-07-28 10:09:36.641 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:09:36.642 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:09:36.644 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:09:36.651 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 302 - - 10.5965ms
2022-07-28 10:09:36.655 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - -
2022-07-28 10:09:36.667 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - - - 404 - - 12.0915ms
2022-07-28 10:10:24.377 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 10:10:25.130 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 10:10:25.131 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 10:10:25.131 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 10:10:25.213 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 10:10:25.488 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 281.0414ms
2022-07-28 10:10:25.992 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 10:10:26.229 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 236.2854ms
2022-07-28 10:10:28.574 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:10:28.710 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:10:28.741 +02:00 [Information] [Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Identity.Application" was challenged.
2022-07-28 10:10:28.749 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 302 - - 174.4279ms
2022-07-28 10:10:28.766 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - -
2022-07-28 10:10:28.778 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/Account/Login?ReturnUrl=%2Fapi%2FCountryApi - - - 404 - - 11.5287ms
2022-07-28 10:14:28.978 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 10:14:29.820 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 10:14:29.821 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 10:14:29.821 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 10:14:29.902 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 10:14:30.215 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 319.0653ms
2022-07-28 10:14:30.706 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 10:14:30.904 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.9582ms
2022-07-28 10:14:34.096 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:14:35.148 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 10:14:35.266 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 10:14:35.276 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:14:35.298 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 10:14:35.305 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 1209.2417ms
2022-07-28 10:14:47.494 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 61
2022-07-28 10:14:47.502 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 10:14:47.610 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 10:14:58.284 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 10:14:59.792 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("100"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 10:15:00.328 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 10:15:00.405 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 10:15:00.626 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 12988.6412ms
2022-07-28 10:15:00.630 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 10:15:00.658 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 61 - 202 345 application/json;+charset=utf-8 13163.4987ms
2022-07-28 10:15:15.453 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 10:15:15.459 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 10:15:15.461 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 10:15:15.463 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 10:15:15.464 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 10:15:15.470 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 16.9784ms
2022-07-28 11:05:54.004 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 11:05:55.191 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 11:05:55.192 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 11:05:55.192 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 11:05:55.315 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 11:05:55.315 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 11:05:55.689 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 380.1626ms
2022-07-28 11:05:55.689 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 380.1576ms
2022-07-28 11:05:56.345 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 11:05:56.359 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 14.9287ms
2022-07-28 11:06:43.302 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58
2022-07-28 11:06:43.314 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 11:06:43.867 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 11:06:44.058 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 11:06:51.516 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 11:06:53.775 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("104"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 11:06:54.261 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 11:06:54.626 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 11:06:54.745 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 10668.1525ms
2022-07-28 11:06:54.747 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 11:06:54.779 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58 - 202 345 application/json;+charset=utf-8 11476.4589ms
2022-07-28 11:07:39.460 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-28 11:07:39.650 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/28/2022 8:30:00 AM', Current time: '7/28/2022 9:07:39 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 11:07:39.766 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/28/2022 8:30:00 AM', Current time: '7/28/2022 9:07:39 AM'."
2022-07-28 11:07:39.767 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 11:07:39.813 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetCountryById\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountryById(Int32)" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-28 11:07:39.981 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 11:07:40.021 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]
WHERE [c].[countryId] = @__id_0"
2022-07-28 11:07:40.103 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"HotelListing.DTOs.CountryDTO"'.
2022-07-28 11:07:40.109 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)" in 295.5724ms
2022-07-28 11:07:40.109 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 11:07:40.110 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi/1 - - - 200 62 application/json;+charset=utf-8 650.4125ms
2022-07-28 11:07:43.688 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 11:07:43.697 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/28/2022 8:30:00 AM', Current time: '7/28/2022 9:07:43 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 11:07:43.698 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '7/28/2022 8:30:00 AM', Current time: '7/28/2022 9:07:43 AM'."
2022-07-28 11:07:43.710 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 11:07:43.740 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 11:07:43.744 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 56.2944ms
2022-07-28 11:07:53.940 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 11:07:53.950 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 11:07:53.951 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 11:07:53.953 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 11:07:53.953 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 11:07:53.956 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 15.5169ms
2022-07-28 11:09:15.998 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 11:09:16.801 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 11:09:16.801 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 11:09:16.801 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 11:09:16.910 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 11:09:16.910 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 11:09:17.234 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 334.0762ms
2022-07-28 11:09:17.234 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 334.0701ms
2022-07-28 11:09:17.766 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 11:09:17.778 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 12.3620ms
2022-07-28 11:09:49.441 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58
2022-07-28 11:09:49.452 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 11:09:49.741 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 11:09:49.830 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 11:09:53.710 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 11:09:56.079 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("131"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 11:09:56.609 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("21"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 11:09:57.058 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 11:09:57.174 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 7331.3331ms
2022-07-28 11:09:57.175 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 11:09:57.190 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58 - 202 345 application/json;+charset=utf-8 7748.8533ms
2022-07-28 11:10:14.421 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 11:10:14.592 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 11:10:14.689 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 11:10:14.707 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 11:10:14.735 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 11:10:14.741 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 319.9221ms
2022-07-28 11:24:56.989 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 11:24:57.757 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 11:24:57.758 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 11:24:57.758 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 11:24:57.833 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 11:24:57.837 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 11:24:58.119 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 292.8221ms
2022-07-28 11:24:58.119 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 295.1844ms
2022-07-28 11:24:58.639 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 11:24:58.647 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 7.7241ms
2022-07-28 11:25:19.642 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58
2022-07-28 11:25:19.652 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 11:25:19.894 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 11:25:19.976 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 11:25:23.039 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 11:25:25.065 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("269"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 11:25:25.463 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 11:25:25.820 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 11:25:26.033 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 6032.5286ms
2022-07-28 11:25:26.036 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 11:25:26.063 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58 - 202 345 application/json;+charset=utf-8 6420.9913ms
2022-07-28 11:31:03.362 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 11:31:03.545 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 11:31:03.621 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 11:31:03.635 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 11:31:03.653 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 11:31:03.657 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 294.9582ms
2022-07-28 12:41:59.818 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 12:42:00.348 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 12:42:00.348 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 12:42:00.348 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 12:42:00.402 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 12:42:00.402 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 12:42:00.522 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.9040ms
2022-07-28 12:42:00.522 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 122.3893ms
2022-07-28 12:42:00.737 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 12:42:00.739 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.6272ms
2022-07-28 12:42:24.035 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58
2022-07-28 12:42:24.040 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 12:42:24.773 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 12:42:24.808 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 12:42:26.029 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 12:42:26.814 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("46"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 12:42:26.979 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 12:42:27.127 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 12:42:27.163 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 2350.5969ms
2022-07-28 12:42:27.164 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 12:42:27.168 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58 - 202 345 application/json;+charset=utf-8 3132.6167ms
2022-07-28 12:42:52.764 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 12:42:52.832 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 12:42:52.880 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 12:42:52.885 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 12:42:52.892 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 12:42:52.895 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 130.6173ms
2022-07-28 12:47:30.357 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 12:47:30.680 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 12:47:30.680 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 12:47:30.680 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 12:47:30.721 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 12:47:30.721 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 12:47:30.842 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 121.1581ms
2022-07-28 12:47:30.842 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.2119ms
2022-07-28 12:47:31.094 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 12:47:31.098 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.3774ms
2022-07-28 12:47:55.484 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58
2022-07-28 12:47:55.490 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 12:47:55.637 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 12:47:55.667 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 12:47:56.546 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 12:47:57.093 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("40"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 12:47:57.245 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 12:47:57.330 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 12:47:57.371 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1696.0935ms
2022-07-28 12:47:57.371 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 12:47:57.376 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 58 - 202 345 application/json;+charset=utf-8 1892.2431ms
2022-07-28 12:59:40.217 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 12:59:40.534 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 12:59:40.542 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 12:59:40.542 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 12:59:40.604 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 12:59:40.604 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 12:59:40.718 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 117.1188ms
2022-07-28 12:59:40.718 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.1342ms
2022-07-28 12:59:40.935 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 12:59:40.943 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 8.7610ms
2022-07-28 13:00:27.185 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi application/json-patch+json 62
2022-07-28 13:00:27.190 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:00:27.916 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 13:00:28.481 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("41"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
2022-07-28 13:00:28.599 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-07-28 13:00:28.620 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 13:00:28.631 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0"
2022-07-28 13:00:28.649 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0"
2022-07-28 13:00:28.655 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.Login (HotelListing)"'
2022-07-28 13:00:28.678 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"Login\", controller = \"UserApi\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:02:38.431 +02:00 [Information] [Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager] [{ Id: 63, Name: "UsingProfileAsKeyRepositoryWithDPAPI" }] User profile is available. Using '"C:\Users\zakaw\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-07-28 13:02:38.740 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Application started. Press Ctrl+C to shut down.
2022-07-28 13:02:38.741 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Hosting environment: "Development"
2022-07-28 13:02:38.741 +02:00 [Information] [Microsoft.Hosting.Lifetime] [] Content root path: "D:\6-Programming and courses\New Projects\Asp.net Core\HotelListing\HotelListing"
2022-07-28 13:02:38.784 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/index.html - -
2022-07-28 13:02:38.784 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 13:02:38.903 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/index.html - - - 200 - text/html;charset=utf-8 120.4693ms
2022-07-28 13:02:38.903 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.4922ms
2022-07-28 13:02:39.101 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - -
2022-07-28 13:02:39.105 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.5999ms
2022-07-28 13:03:16.718 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67
2022-07-28 13:03:16.724 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:03:16.846 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:03:16.874 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:03:17.770 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 13:03:18.291 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("35"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 13:03:18.434 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 13:03:18.529 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 13:03:18.572 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1693.2698ms
2022-07-28 13:03:18.572 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:03:18.577 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json-patch+json 67 - 202 253 application/json;+charset=utf-8 1858.5913ms
2022-07-28 13:04:04.194 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/1.1 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:04:04.250 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 13:04:04.283 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 13:04:04.288 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:04:04.293 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:04:04.295 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/1.1 GET https://localhost:44387/api/CountryApi - - - 401 - - 100.9457ms
2022-07-28 13:07:46.769 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi/1 - -
2022-07-28 13:07:46.774 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 13:07:46.787 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"GetCountryById\", controller = \"CountryApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountryById(Int32)" on controller "HotelListing.APIs.CountryApiController" ("HotelListing").
2022-07-28 13:07:46.820 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 13:07:46.831 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[countryId], [c].[countryName], [c].[countryShortName]
FROM [countries] AS [c]
WHERE [c].[countryId] = @__id_0"
2022-07-28 13:07:46.855 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "OkObjectResult", writing value of type '"HotelListing.DTOs.CountryDTO"'.
2022-07-28 13:07:46.858 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)" in 70.963ms
2022-07-28 13:07:46.858 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.CountryApiController.GetCountryById (HotelListing)"'
2022-07-28 13:07:46.858 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi/1 - - - 200 62 application/json;+charset=utf-8 89.0535ms
2022-07-28 13:08:10.895 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:08:10.938 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:08:10.939 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:08:10.940 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 44.6518ms
2022-07-28 13:08:14.561 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:08:14.563 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 13:08:14.563 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 13:08:14.564 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:08:14.564 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:08:14.565 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 4.2386ms
2022-07-28 13:08:15.660 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:08:15.661 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 13:08:15.661 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 13:08:15.662 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:08:15.662 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:08:15.663 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 2.9604ms
2022-07-28 13:08:16.094 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:08:16.095 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 13:08:16.096 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 13:08:16.096 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:08:16.096 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:08:16.096 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 2.3775ms
2022-07-28 13:08:46.373 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:08:46.373 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:08:46.373 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:08:46.380 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 6.7832ms
2022-07-28 13:08:47.185 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:08:47.185 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:08:47.185 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:08:47.187 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 1.5840ms
2022-07-28 13:09:15.052 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0
2022-07-28 13:09:15.053 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:09:15.058 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:15.058 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:09:15.077 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2022-07-28 13:09:15.106 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 47.5169ms
2022-07-28 13:09:15.106 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:15.106 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0 - 400 247 application/problem+json;+charset=utf-8 54.0602ms
2022-07-28 13:09:30.994 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0
2022-07-28 13:09:30.995 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:09:30.995 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:30.995 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:09:31.012 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2022-07-28 13:09:31.012 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 16.9125ms
2022-07-28 13:09:31.012 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:31.013 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0 - 400 247 application/problem+json;+charset=utf-8 19.0453ms
2022-07-28 13:09:31.957 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0
2022-07-28 13:09:31.957 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:09:31.957 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:31.957 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:09:31.958 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2022-07-28 13:09:31.959 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1.3711ms
2022-07-28 13:09:31.959 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:31.964 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0 - 400 247 application/problem+json;+charset=utf-8 6.7643ms
2022-07-28 13:09:32.552 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0
2022-07-28 13:09:32.552 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:09:32.552 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:32.553 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:09:32.553 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2022-07-28 13:09:32.554 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 1.2574ms
2022-07-28 13:09:32.554 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:32.555 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0 - 400 247 application/problem+json;+charset=utf-8 2.6879ms
2022-07-28 13:09:38.267 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0
2022-07-28 13:09:38.267 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:09:38.267 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:38.267 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:09:38.268 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2022-07-28 13:09:38.269 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 0.999ms
2022-07-28 13:09:38.269 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:38.269 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0 - 400 247 application/problem+json;+charset=utf-8 2.5037ms
2022-07-28 13:09:46.386 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0
2022-07-28 13:09:46.386 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:09:46.386 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:46.388 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:09:46.388 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
2022-07-28 13:09:46.389 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 0.9739ms
2022-07-28 13:09:46.389 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:09:46.390 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 0 - 400 247 application/problem+json;+charset=utf-8 3.8029ms
2022-07-28 13:10:25.774 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 67
2022-07-28 13:10:25.775 +02:00 [Information] [Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] [{ Id: 10, Name: "NoCorsPolicyFound" }] No CORS policy found for the specified request.
2022-07-28 13:10:25.775 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Name: "ExecutingEndpoint" }] Executing endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:10:25.778 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 3, Name: "ControllerActionExecuting" }] Route matched with "{action = \"LoginWithJWT\", controller = \"UserApi\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginWithJWT(HotelListing.DTOs.LoginUserDto)" on controller "HotelListing.APIs.UserApiController" ("HotelListing").
2022-07-28 13:10:25.785 +02:00 [Information] [Microsoft.EntityFrameworkCore.Infrastructure] [{ Id: 10403, Name: "Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized" }] Entity Framework Core "5.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None"
2022-07-28 13:10:25.791 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[firstName], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
2022-07-28 13:10:25.806 +02:00 [Information] [Microsoft.EntityFrameworkCore.Database.Command] [{ Id: 20101, Name: "Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted" }] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0"
2022-07-28 13:10:25.808 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor] [{ Id: 1, Name: "ObjectResultExecuting" }] Executing "AcceptedResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2022-07-28 13:10:25.808 +02:00 [Information] [Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] [{ Id: 2, Name: "ActionExecuted" }] Executed action "HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)" in 30.4578ms
2022-07-28 13:10:25.808 +02:00 [Information] [Microsoft.AspNetCore.Routing.EndpointMiddleware] [{ Id: 1, Name: "ExecutedEndpoint" }] Executed endpoint '"HotelListing.APIs.UserApiController.LoginWithJWT (HotelListing)"'
2022-07-28 13:10:25.810 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 POST https://localhost:44387/api/UserApi/loginWithJWT application/json 67 - 202 253 application/json;+charset=utf-8 35.7882ms
2022-07-28 13:11:12.893 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:11:12.894 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:11:12.894 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:11:12.900 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 6.9099ms
2022-07-28 13:11:23.407 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:11:23.412 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 13:11:23.413 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 13:11:23.413 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:11:23.413 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:11:23.414 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 6.3692ms
2022-07-28 13:11:24.854 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 1, Name: "RequestStarting" }] Request starting HTTP/2 GET https://localhost:44387/api/CountryApi - -
2022-07-28 13:11:24.855 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 1, Name: "TokenValidationFailed" }] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-07-28 13:11:24.855 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 7, Name: "AuthenticationSchemeNotAuthenticatedWithFailure" }] "Bearer" was not authenticated. Failure message: "IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null."
2022-07-28 13:11:24.855 +02:00 [Information] [Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] [{ Id: 2, Name: "UserAuthorizationFailed" }] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
2022-07-28 13:11:24.855 +02:00 [Information] [Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler] [{ Id: 12, Name: "AuthenticationSchemeChallenged" }] AuthenticationScheme: "Bearer" was challenged.
2022-07-28 13:11:24.856 +02:00 [Information] [Microsoft.AspNetCore.Hosting.Diagnostics] [{ Id: 2, Name: "RequestFinished" }] Request finished HTTP/2 GET https://localhost:44387/api/CountryApi - - - 401 - - 1.8210ms
